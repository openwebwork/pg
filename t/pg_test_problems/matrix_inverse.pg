##DESCRIPTION
##
##
##
##ENDDESCRIPTION
##
##
DOCUMENT();        # This should be the first executable line in the problem.

loadMacros(
   "PGstandard.pl",     # Standard macros for PG language
   "MathObjects.pl",
   "PGML.pl",
   #"source.pl",         # used to display problem source button
   "PGcourse.pl",      # Customization file for the course
);

TEXT(beginproblem());
$showPartialCorrectAnswers = 1;

##############################################################
###############################################################
#  Setup
# #
# ##
## Context("Numeric");

##############################################################
###############################################################
#  Text
# #
# ##
# ##
Context("Matrix");
Context()->constants->add(A=>Matrix([1,2],[3,4]));
Context()->variables->add(M=>Matrix([1,2],[3,4]));
TEXT(Formula("A^(-1)")->reduce,$BR);
TEXT(Formula("M^(-1)")->reduce,$BR);
TEXT(Formula("[[x,2],[3,x]]^(-1)")->reduce,$BR);
TEXT(Formula("x^(-1)")->reduce,$BR);
TEXT(Formula("x^(-2)")->reduce,$BR);

BEGIN_PGML
Without the patch, the first three reductions will produce an error about only being able
to divide by a number. With the patch, all three should succeed, and you should get

* A^(-1)
* M^(-1)
* [`[[x,2],[3,x]]^{(-1)}`]
* 1/x
* 1/(x^2)

as the output.

Note that this does change the name of the reduction rule from x^(-1) to x^(-a). I've
checked the macro files and the OPL and don't see any uses of reduction rule x^(-1), so I
think this should not be a problem (though some Wiki pages may need to be updated).

------------
END_PGML

#############################################################
###############################################################
#  Answers
# #
# ##
# ##
# ##
# ##
ENDDOCUMENT();        # This should be the last executable line in the problem.