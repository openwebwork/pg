"use strict";function graphTool(e,t){var o,u,i,n,r,s;function a(t){this.baseObj=t,(this.baseObj.gtGraphObject=this).definingPts={}}function d(t,e,o,i){a.call(this,u.board.create("line",[t,e],{fixed:!0,highlight:!1,strokeColor:i||u.underConstructionColor,dash:o?0:2})),this.definingPts.point1=t,this.definingPts.point2=e}function l(t,e,o,i){a.call(this,u.board.create("circle",[t,e],{fixed:!0,highlight:!1,strokeColor:i||u.underConstructionColor,dash:o?0:2})),this.definingPts.center=t,this.definingPts.point=e}function c(t,e,o){return o?(e.Y()-t.Y())/Math.pow(e.X()-t.X(),2):(e.X()-t.X())/Math.pow(e.Y()-t.Y(),2)}function p(e,o,i,t,n){return i?u.board.create("curve",[function(t){return t},function(t){return c(e,o,i)*Math.pow(t-e.X(),2)+e.Y()},function(){return u.board.getBoundingBox()[0]},function(){return u.board.getBoundingBox()[2]}],{strokeWidth:2,highlight:!1,strokeColor:n||u.underConstructionColor,dash:t?0:2}):u.board.create("curve",[function(t){return c(e,o,i)*Math.pow(t-e.Y(),2)+e.X()},function(t){return t},function(){return u.board.getBoundingBox()[3]},function(){return u.board.getBoundingBox()[1]}],{strokeWidth:2,highlight:!1,strokeColor:n||u.underConstructionColor,dash:t?0:2})}function h(t,e,o,i,n){a.call(this,p(t,e,o,i,n)),this.definingPts.vertex=t,this.definingPts.point=e,this.vertical=o}function b(t){t.setAttribute({visible:!1}),a.call(this,t),this.focused=!0,this.definingPts.point=t,this.updateTimeout=0,this.update();var o=this;this.definingPts.icon=u.board.create("image",[function(){return o.focused?u.fillIconFocused:u.fillIcon},[t.X()-12/u.board.unitX,t.Y()-12/u.board.unitY],[function(){return 24/u.board.unitX},function(){return 24/u.board.unitY}]],{withLabel:!1,highlight:!1,layer:9,name:"FillIcon"}),(this.definingPts.icon.gtGraphObject=this).definingPts.icon.point=t,this.isStatic=u.isStatic,u.isStatic||(this.on("down",function(){u.board.containerObj.style.cursor="none"}),this.on("up",function(){u.board.containerObj.style.cursor="auto"}),this.on("drag",function(t){var e=u.getMouseCoords(t),t=u.snapRound(e.usrCoords[1],u.snapSizeX),e=u.snapRound(e.usrCoords[2],u.snapSizeY);this.setPosition(JXG.COORDS_BY_USER,[t-12/u.board.unitX,e-12/u.board.unitY]),this.point.setPosition(JXG.COORDS_BY_USER,[t,e]),o.update(),u.updateText()}))}function f(t,e,o){var i=document.createElement("div");i.classList.add("gt-button-div"),i.dataset.bsToggle="tooltip",i.title=o,this.button=document.createElement("button"),this.button.type="button",this.button.classList.add("btn","btn-light","gt-button","gt-tool-button","gt-"+e+"-tool");var n=this;this.button.addEventListener("click",function(){n.activate()}),i.append(this.button),t.append(i),this.hlObjs={}}function g(t){f.call(this,t,"select","Object Selection Tool")}function y(t,e,o){f.call(this,t,e||"line",o||"Line Tool")}function O(t,e,o){f.call(this,t,e||"circle",o||"Circle Tool")}function C(t,e,o,i){f.call(this,t,o||(e?"vertical-parabola":"horizontal-parabola"),i||(e?"Vertical Parabola Tool":"Horizontal Parabola Tool")),this.vertical=e}function v(t,e,o){C.call(this,t,!0,e,o)}function j(t,e,o){C.call(this,t,!1,e,o)}function m(t,e,o){f.call(this,t,e||"fill",o||"Region Shading Tool")}function S(t,e){t.blur(),"solidButton"in u&&(u.solidButton.disabled=e),"dashedButton"in u&&(u.dashedButton.disabled=!e),u.selectedObj&&(u.selectedObj.setSolid(e),u.updateText()),u.drawSolid=e,u.activeTool.updateHighlights()}function x(t,e,o,i){var n=document.createElement("div");n.classList.add("modal","modal-dialog-centered","gt-modal"),n.tabIndex=-1,n.setAttribute("aria-labelledby",e),n.setAttribute("aria-hidden","true");var r=document.createElement("div");r.classList.add("modal-dialog");var s=document.createElement("div");s.classList.add("modal-content");var a=document.createElement("div");a.classList.add("modal-header");var d=document.createElement("h3");d.id=e,d.textContent=t;e=document.createElement("button");e.type="button",e.classList.add("btn-close"),e.dataset.bsDismiss="modal",e.setAttribute("aria-label","close"),a.append(d,e);t=document.createElement("div");t.classList.add("modal-body");d=document.createElement("div");d.textContent=o,t.append(d);e=document.createElement("div");e.classList.add("modal-footer");o=document.createElement("button");o.classList.add("btn","btn-primary"),o.textContent="Yes",o.addEventListener("click",function(){i(),l.hide()});d=document.createElement("button");d.classList.add("btn","btn-primary"),d.dataset.bsDismiss="modal",d.textContent="No",e.append(o,d),s.append(a,t,e),r.append(s),n.append(r);var l=new bootstrap.Modal(n);l.show(),document.querySelector(".modal-backdrop").style.opacity="0.2",n.addEventListener("hidden.bs.modal",function(){l.dispose(),n.remove()})}function X(t,e){u.board.suspendUpdate();var o=u.isStatic;u.isStatic=e;for(var i=/{(.*?)}/g,n=i.exec(t);n;){var r=a.restore(n[1]);!1!==r&&(e?u.staticObjs:u.graphedObjs).push(r),n=i.exec(t)}u.isStatic=o,u.updateObjects(),u.board.unsuspendUpdate()}document.getElementById(e+"_graph")||(o=document.getElementById(e),"0px"!=getComputedStyle(o).width?((u={curveColor:"#0000a6",focusCurveColor:"#0000f5",fillColor:"#a384e5",pointColor:"orange",pointHighlightColor:"yellow",underConstructionColor:"orange"}).snapSizeX=t.snapSizeX||1,u.snapSizeY=t.snapSizeY||1,u.isStatic="isStatic"in t&&t.isStatic,s=t.availableTools||["LineTool","CircleTool","VerticalParabolaTool","HorizontalParabolaTool","FillTool","SolidDashTool"],u.fillIcon="data:image/svg+xml,%3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' id='SVGRoot' version='1.1' viewBox='0 0 32 32' height='32px' width='32px'%3E%3Cdefs id='defs815' /%3E%3Cmetadata id='metadata818'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E%3Cdc:title%3E%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cg id='layer1'%3E%3Cpath id='path1382' d='m 13.466084,10.267728 -4.9000003,8.4 4.9000003,4.9 8.4,-4.9 z' style='opacity:1;fill:"+u.fillColor.replace(/#/,"%23")+";fill-opacity:1;stroke:%23000000;stroke-width:1.3;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none' /%3E%3Cpath id='path1384' d='M 16.266084,15.780798 V 6.273173' style='fill:none;stroke:%23000000;stroke-width:1.38;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3E%3Cpath id='path1405' d='m 20,16 c 0,0 2,-1 3,0 1,0 1,1 2,2 0,1 0,2 0,3 0,1 0,2 0,2 0,0 -1,0 -1,0 -1,-1 -1,-1 -1,-2 0,-1 0,-1 -1,-2 0,-1 0,-2 -1,-2 -1,-1 -2,-1 -1,-1 z' style='fill:%230900ff;fill-opacity:1;stroke:%23000000;stroke-width:0.7px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3E%3C/g%3E%3C/svg%3E",u.fillIconFocused="data:image/svg+xml,%3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' id='SVGRoot' version='1.1' viewBox='0 0 32 32' height='32px' width='32px'%3E%3Cdefs id='defs815' /%3E%3Cmetadata id='metadata818'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E%3Cdc:title%3E%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cg id='layer1'%3E%3Cpath id='path1382' d='m 13.466084,10.267728 -4.9000003,8.4 4.9000003,4.9 8.4,-4.9 z' style='opacity:1;fill:"+u.pointHighlightColor.replace(/#/,"%23")+";fill-opacity:1;stroke:%23000000;stroke-width:1.3;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none' /%3E%3Cpath id='path1384' d='M 16.266084,15.780798 V 6.273173' style='fill:none;stroke:%23000000;stroke-width:1.38;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3E%3Cpath id='path1405' d='m 20,16 c 0,0 2,-1 3,0 1,0 1,1 2,2 0,1 0,2 0,3 0,1 0,2 0,2 0,0 -1,0 -1,0 -1,-1 -1,-1 -1,-2 0,-1 0,-1 -1,-2 0,-1 0,-2 -1,-2 -1,-1 -2,-1 -1,-1 z' style='fill:%230900ff;fill-opacity:1;stroke:%23000000;stroke-width:0.7px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3E%3C/g%3E%3C/svg%3E","htmlInputId"in t&&(u.html_input=document.getElementById(t.htmlInputId)),i={showCopyright:!1,pan:{enabled:!1},zoom:{enabled:!1},showNavigation:!1,boundingBox:[-10,10,10,-10],defaultAxes:{},axis:{ticks:{label:{highlight:!1},insertTicks:!1,ticksDistance:2,minorTicks:1,minorHeight:6,majorHeight:6,tickEndings:[1,1]},highlight:!1,firstArrow:{size:7},lastArrow:{size:7},straightFirst:!1,straightLast:!1},grid:{gridX:u.snapSizeX,gridY:u.snapSizeY}},"JSXGraphOptions"in t&&$.extend(!0,i,t.JSXGraphOptions),u.snapRound=function(t,e){return Math.round(Math.round(t/e)*e*1e5)/1e5},u.setTextCoords=function(t,e){u.current_pos_text.setText("("+u.snapRound(t,u.snapSizeX)+", "+u.snapRound(e,u.snapSizeY)+")")},u.updateText=function(){u.html_input.value=u.graphedObjs.reduce(function(t,e){return t+(t.length?",":"")+"{"+e.stringify()+"}"},"")},u.getMouseCoords=function(t){t[JXG.touchProperty]&&(o=0);var e=u.board.getCoordsTopLeftCorner(),t=JXG.getPosition(t,o),o=t[0]-e[0],e=t[1]-e[1];return new JXG.Coords(JXG.COORDS_BY_SCREEN,[o,e],u.board)},u.sign=function(t){return t=+t,Math.abs(t)<JXG.Math.eps?0:0<t?1:-1},u.pointRegexp=/\( *(-?[0-9]*(?:\.[0-9]*)?), *(-?[0-9]*(?:\.[0-9]*)?) *\)/g,u.pairedPointDrag=function(t){var e;this.X()==this.paired_point.X()&&this.Y()==this.paired_point.Y()&&(t=(e=u.getMouseCoords(t)).usrCoords[1]-this.paired_point.X(),(e=e.usrCoords[2]-this.paired_point.Y())>Math.abs(t)?this.setPosition(JXG.COORDS_BY_USER,[this.X(),this.Y()+u.snapSizeY]):t>Math.abs(e)?this.setPosition(JXG.COORDS_BY_USER,[this.X()+u.snapSizeX,this.Y()]):t<-Math.abs(e)?this.setPosition(JXG.COORDS_BY_USER,[this.X()-u.snapSizeX,this.Y()]):this.setPosition(JXG.COORDS_BY_USER,[this.X(),this.Y()-u.snapSizeY])),u.updateObjects(),u.updateText()},u.pairedPointDragRestricted=function(t){var e=u.getMouseCoords(t),o=this.X(),t=this.Y();this.X()==this.paired_point.X()&&(e.usrCoords[1]>this.paired_point.X()?o+=u.snapSizeX:o-=u.snapSizeX),this.Y()==this.paired_point.Y()&&(e.usrCoords[2]>this.paired_point.Y()?t+=u.snapSizeX:t-=u.snapSizeX),this.X()!=this.paired_point.X()&&this.Y()!=this.paired_point.Y()||this.setPosition(JXG.COORDS_BY_USER,[o,t]),u.updateObjects(),u.updateText()},u.createPoint=function(t,e,o,i){e=u.board.create("point",[t,e],{size:2,snapToGrid:!0,snapSizeX:u.snapSizeX,snapSizeY:u.snapSizeY,withLabel:!1});return e.on("down",function(){u.board.containerObj.style.cursor="none"}),e.on("up",function(){u.board.containerObj.style.cursor="auto"}),void 0!==o&&((e.paired_point=o).paired_point=e,o.on("drag",i?u.pairedPointDragRestricted:u.pairedPointDrag),e.on("drag",i?u.pairedPointDragRestricted:u.pairedPointDrag)),e},u.updateObjects=function(){u.graphedObjs.forEach(function(t){t.update()}),u.staticObjs.forEach(function(t){t.update()})},a.prototype.blur=function(){Object.values(this.definingPts).forEach(function(t){t.setAttribute({visible:!1})}),this.baseObj.setAttribute({strokeColor:u.curveColor,strokeWidth:2})},a.prototype.focus=function(){Object.values(this.definingPts).forEach(function(t){t.setAttribute({visible:!0,strokeColor:u.focusCurveColor,strokeWidth:1,size:3,fillColor:u.pointColor,highlightStrokeColor:u.focusCurveColor,highlightFillColor:u.pointHighlightColor})}),this.baseObj.setAttribute({strokeColor:u.focusCurveColor,strokeWidth:3}),u.drawSolid=0==this.baseObj.getAttribute("dash"),"solidButton"in u&&(u.solidButton.disabled=u.drawSolid),"dashedButton"in u&&(u.dashedButton.disabled=!u.drawSolid)},a.prototype.update=function(){},a.prototype.fillCmp=function(){return 1},a.prototype.remove=function(){Object.values(this.definingPts).forEach(function(t){u.board.removeObject(t)}),u.board.removeObject(this.baseObj)},a.prototype.setSolid=function(t){this.baseObj.setAttribute({dash:t?0:2})},a.prototype.stringify=function(){return""},a.prototype.id=function(){return this.baseObj.id},a.prototype.on=function(t,e,o){this.baseObj.on(t,e,o)},a.prototype.off=function(t,e){this.baseObj.off(t,e)},a.prototype.onResize=function(){},a.prototype.updateTextCoords=function(e){return!Object.keys(this.definingPts).every(function(t){return!this[t].hasPoint(e.scrCoords[1],e.scrCoords[2])||(u.setTextCoords(this[t].X(),this[t].Y()),!1)},this.definingPts)},a.restore=function(t){var e=t.match(/^(.*?),(.*)/);if(e.length<3)return!1;var o=!1;return Object.keys(u.graphObjectTypes).every(function(t){return e[1]!=u.graphObjectTypes[t].strId||(o=u.graphObjectTypes[t].restore(e[2]),!1)}),!1!==o&&o.blur(),o},d.prototype=Object.create(a.prototype),Object.defineProperty(d.prototype,"constructor",{value:d,enumerable:!1,writable:!0}),d.prototype.stringify=function(){return[d.strId,0==this.baseObj.getAttribute("dash")?"solid":"dashed","("+u.snapRound(this.definingPts.point1.X(),u.snapSizeX)+","+u.snapRound(this.definingPts.point1.Y(),u.snapSizeY)+")","("+u.snapRound(this.definingPts.point2.X(),u.snapSizeX)+","+u.snapRound(this.definingPts.point2.Y(),u.snapSizeY)+")"].join(",")},d.prototype.fillCmp=function(t){return u.sign(JXG.Math.innerProduct(t,this.baseObj.stdform))},d.strId="line",d.restore=function(t){for(var e=u.pointRegexp.exec(t),o=[];e;)o.push(e.slice(1,3)),e=u.pointRegexp.exec(t);if(o.length<2)return!1;var i=u.createPoint(parseFloat(o[0][0]),parseFloat(o[0][1])),n=u.createPoint(parseFloat(o[1][0]),parseFloat(o[1][1]),i);return new u.graphObjectTypes.line(i,n,/solid/.test(t),u.curveColor)},l.prototype=Object.create(a.prototype),Object.defineProperty(l.prototype,"constructor",{value:l,enumerable:!1,writable:!0}),l.prototype.stringify=function(){return[l.strId,0==this.baseObj.getAttribute("dash")?"solid":"dashed","("+u.snapRound(this.definingPts.center.X(),u.snapSizeX)+","+u.snapRound(this.definingPts.center.Y(),u.snapSizeY)+")","("+u.snapRound(this.definingPts.point.X(),u.snapSizeX)+","+u.snapRound(this.definingPts.point.Y(),u.snapSizeY)+")"].join(",")},l.prototype.fillCmp=function(t){return u.sign(this.baseObj.stdform[3]*(t[1]*t[1]+t[2]*t[2])+JXG.Math.innerProduct(t,this.baseObj.stdform))},l.strId="circle",l.restore=function(t){for(var e=u.pointRegexp.exec(t),o=[];e;)o.push(e.slice(1,3)),e=u.pointRegexp.exec(t);if(o.length<2)return!1;var i=u.createPoint(parseFloat(o[0][0]),parseFloat(o[0][1])),n=u.createPoint(parseFloat(o[1][0]),parseFloat(o[1][1]),i);return new u.graphObjectTypes.circle(i,n,/solid/.test(t),u.curveColor)},h.prototype=Object.create(a.prototype),Object.defineProperty(h.prototype,"constructor",{value:h,enumerable:!1,writable:!0}),h.prototype.stringify=function(){return[h.strId,0==this.baseObj.getAttribute("dash")?"solid":"dashed",this.vertical?"vertical":"horizontal","("+u.snapRound(this.definingPts.vertex.X(),u.snapSizeX)+","+u.snapRound(this.definingPts.vertex.Y(),u.snapSizeY)+")","("+u.snapRound(this.definingPts.point.X(),u.snapSizeX)+","+u.snapRound(this.definingPts.point.Y(),u.snapSizeY)+")"].join(",")},h.prototype.fillCmp=function(t){return this.vertical?u.sign(t[2]-this.baseObj.Y(t[1])):u.sign(t[1]-this.baseObj.X(t[2]))},h.strId="parabola",h.restore=function(t){for(var e=u.pointRegexp.exec(t),o=[];e;)o.push(e.slice(1,3)),e=u.pointRegexp.exec(t);if(o.length<2)return!1;var i=u.createPoint(parseFloat(o[0][0]),parseFloat(o[0][1])),n=u.createPoint(parseFloat(o[1][0]),parseFloat(o[1][1]),i,!0);return new u.graphObjectTypes.parabola(i,n,/vertical/.test(t),/solid/.test(t),u.curveColor)},b.prototype=Object.create(a.prototype),Object.defineProperty(b.prototype,"constructor",{value:b,enumerable:!1,writable:!0}),b.prototype.blur=function(){this.focused=!1,this.definingPts.icon.setAttribute({fixed:!0})},b.prototype.focus=function(){this.focused=!0,this.definingPts.icon.setAttribute({fixed:!1})},b.prototype.on=function(t,e,o){this.definingPts.icon.on(t,e,o)},b.prototype.off=function(t,e){this.definingPts.icon.off(t,e)},b.prototype.remove=function(){"fillObj"in this&&u.board.removeObject(this.fillObj),a.prototype.remove.call(this)},b.prototype.update=function(){var p;this.isStatic||(this.updateTimeout&&clearTimeout(this.updateTimeout),(p=this).updateTimeout=setTimeout(function(){p.updateTimeout=0,"fillObj"in p&&(u.board.removeObject(p.fillObj),delete p.fillObj);for(var t=p.definingPts.point.coords.usrCoords,n=u.graphedObjs.concat(u.staticObjs),r=Array(n.length),e=0;e<n.length;++e)if(r[e]=n[e].fillCmp(t),0==r[e])return;var o=document.createElement("canvas");o.width=u.board.canvasWidth,o.height=u.board.canvasHeight;for(var i,s=o.getContext("2d"),a=s.getImageData(0,0,o.width,o.height),d=0;d<o.width;++d)for(var l=0;l<o.height;++l)!function(t,e){for(var o=[1,(t-u.board.origin.scrCoords[1])/u.board.unitX,(u.board.origin.scrCoords[2]-e)/u.board.unitY],i=0;i<n.length;++i)if(n[i].fillCmp(o)!=r[i])return!1;return!0}(d,l)||(i=4*(l*o.width+d),a.data[i]=Number("0x"+u.fillColor.slice(1,3)),a.data[i+1]=Number("0x"+u.fillColor.slice(3,5)),a.data[i+2]=Number("0x"+u.fillColor.slice(5)),a.data[i+3]=255);s.putImageData(a,0,0);var c=o.toDataURL("image/png");o.remove();s=u.board.getBoundingBox();p.fillObj=u.board.create("image",[c,[s[0],s[3]],[s[2]-s[0],s[1]-s[3]]],{withLabel:!1,highlight:!1,fixed:!0,layer:0})},100))},b.prototype.onResize=function(){this.definingPts.icon.setPosition(JXG.COORDS_BY_USER,[this.definingPts.point.X()-12/u.board.unitX,this.definingPts.point.Y()-12/u.board.unitY]),u.board.update()},b.prototype.updateTextCoords=function(t){return!!this.definingPts.point.hasPoint(t.scrCoords[1],t.scrCoords[2])&&(u.setTextCoords(this.definingPts.point.X(),this.definingPts.point.Y()),!0)},b.prototype.stringify=function(){return[b.strId,"("+u.snapRound(this.baseObj.X(),u.snapSizeX)+","+u.snapRound(this.baseObj.Y(),u.snapSizeY)+")"].join(",")},b.strId="fill",b.restore=function(t){for(var e=u.pointRegexp.exec(t),o=[];e;)o.push(e.slice(1,3)),e=u.pointRegexp.exec(t);return!!o.length&&new u.graphObjectTypes.fill(u.createPoint(parseFloat(o[0][0]),parseFloat(o[0][1])))},u.graphObjectTypes={},u.graphObjectTypes[d.strId]=d,u.graphObjectTypes[h.strId]=h,u.graphObjectTypes[l.strId]=l,u.graphObjectTypes[b.strId]=b,"customGraphObjects"in t&&Object.keys(t.customGraphObjects).forEach(function(t){var e,i=this[t],o="parent"in i?i.parent?u.graphObjectTypes[i.parent]:null:a;o?((e=function(){"preInit"in i?o.call(this,i.preInit.apply(this,[u].concat(Array.prototype.slice.call(arguments)))):o.apply(this,arguments),"postInit"in i&&i.postInit.apply(this,[u].concat(Array.prototype.slice.call(arguments)))}).prototype=Object.create(o.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,enumerable:!1,writable:!0})):e=function(){i.preInit.apply(this,[u].concat(Array.prototype.slice.call(arguments)))},"blur"in i&&(e.prototype.blur=function(){i.blur.call(this,u)&&o&&o.prototype.blur.call(this)}),"focus"in i&&(e.prototype.focus=function(){i.focus.call(this,u)&&o&&o.prototype.focus.call(this)}),"update"in i&&(e.prototype.update=function(){i.update.call(this,u)}),"onResize"in i&&(e.prototype.onResize=function(){i.onResize.call(this,u)}),"updateTextCoords"in i&&(e.prototype.updateTextCoords=function(t){return i.updateTextCoords.call(this,u,t)}),"fillCmp"in i&&(e.prototype.fillCmp=function(t){return i.fillCmp.call(this,u,t)}),"remove"in i&&(e.prototype.remove=function(){i.remove.call(this,u),o&&o.prototype.remove.call(this)}),"setSolid"in i&&(e.prototype.setSolid=function(t){i.setSolid.call(this,u,t)}),"on"in i&&(e.prototype.on=function(t,e,o){i.on.call(this,t,e,o)}),"off"in i&&(e.prototype.off=function(t,e){i.off.call(this,t,e)}),"stringify"in i&&(e.prototype.stringify=function(){return[e.strId,i.stringify.call(this,u)].join(",")}),"restore"in i?e.restore=function(t){return i.restore.call(this,u,t)}:o&&(e.restore=o.restore),"helperMethods"in i&&Object.keys(i.helperMethods).forEach(function(t){e[t]=function(){return i.helperMethods[t].apply(this,[u].concat(Array.prototype.slice.call(arguments)))}}),e.strId=t,u.graphObjectTypes[e.strId]=e},t.customGraphObjects),f.prototype.activate=function(){u.activeTool.deactivate(),(u.activeTool=this).button.blur(),this.button.disabled=!0,u.selectedObj&&u.selectedObj.blur(),u.selectedObj=null},f.prototype.finish=function(){u.updateObjects(),u.updateText(),u.board.update(),u.selectTool.activate()},f.prototype.updateHighlights=function(){return!1},f.prototype.removeHighlights=function(){Object.keys(this.hlObjs).forEach(function(t){u.board.removeObject(this[t]),delete this[t]},this.hlObjs)},f.prototype.deactivate=function(){this.button.disabled=!1,this.removeHighlights()},g.prototype=Object.create(f.prototype),Object.defineProperty(g.prototype,"constructor",{value:g,enumerable:!1,writable:!0}),g.prototype.selectionChanged=function(t){if(u.selectedObj){if(u.selectedObj.id()==this.gtGraphObject.id())return;for(var e=u.getMouseCoords(t),o=Object.values(u.selectedObj.definingPts),i=0;i<o.length;++i)if(o[i].X()==u.snapRound(e.usrCoords[1],u.snapSizeX)&&o[i].Y()==u.snapRound(e.usrCoords[2],u.snapSizeY))return;u.selectedObj.blur()}u.selectedObj=this.gtGraphObject,u.selectedObj.focus()},g.prototype.activate=function(t){var e=u.selectedObj;f.prototype.activate.call(this),e&&(u.selectedObj=e),t||1!=u.graphedObjs.length||(u.selectedObj=u.graphedObjs[0]),u.selectedObj&&u.selectedObj.focus(),u.graphedObjs.forEach(function(t){t.on("down",this.selectionChanged)},this)},g.prototype.deactivate=function(){u.graphedObjs.forEach(function(t){t.off("down",this.selectionChanged)},this),f.prototype.deactivate.call(this)},y.prototype=Object.create(f.prototype),Object.defineProperty(y.prototype,"constructor",{value:y,enumerable:!1,writable:!0}),y.prototype.updateHighlights=function(t){return"hl_line"in this.hlObjs&&this.hlObjs.hl_line.setAttribute({dash:u.drawSolid?0:2}),void 0!==t&&(!("point1"in this&&u.snapRound(t.usrCoords[1],u.snapSizeX)==this.point1.X()&&u.snapRound(t.usrCoords[2],u.snapSizeY)==this.point1.Y())&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=u.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:u.underConstructionColor,fixed:!0,snapToGrid:!0,snapSizeX:u.snapSizeX,snapSizeY:u.snapSizeY,withLabel:!1}),"point1"in this&&(this.hlObjs.hl_line=u.board.create("line",[this.point1,this.hlObjs.hl_point],{fixed:!0,strokeColor:u.underConstructionColor,highlight:!1,dash:u.drawSolid?0:2}))),u.setTextCoords(this.hlObjs.hl_point.X(),this.hlObjs.hl_point.Y()),u.board.update(),!0))},y.prototype.deactivate=function(){u.board.off("up"),"point1"in this&&u.board.removeObject(this.point1),delete this.point1,u.board.containerObj.style.cursor="auto",f.prototype.deactivate.call(this)},y.prototype.activate=function(){f.prototype.activate.call(this),u.board.containerObj.style.cursor="none";var e=this;u.board.on("up",function(t){t=u.getMouseCoords(t);u.board.hasPoint(t.usrCoords[1],t.usrCoords[2])&&(u.board.off("up"),e.point1=u.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:u.snapSizeX,snapSizeY:u.snapSizeY,withLabel:!1}),e.point1.setAttribute({fixed:!0}),e.removeHighlights(),u.board.on("up",function(t){t=u.getMouseCoords(t);e.point1.X()==u.snapRound(t.usrCoords[1],u.snapSizeX)&&e.point1.Y()==u.snapRound(t.usrCoords[2],u.snapSizeY)||!u.board.hasPoint(t.usrCoords[1],t.usrCoords[2])||(u.board.off("up"),e.point1.setAttribute({fixed:!1}),e.point1.on("down",function(){u.board.containerObj.style.cursor="none"}),e.point1.on("up",function(){u.board.containerObj.style.cursor="auto"}),u.selectedObj=new u.graphObjectTypes.line(e.point1,u.createPoint(t.usrCoords[1],t.usrCoords[2],e.point1),u.drawSolid),u.graphedObjs.push(u.selectedObj),delete e.point1,e.finish())}),u.board.update())})},O.prototype=Object.create(f.prototype),Object.defineProperty(O.prototype,"constructor",{value:O,enumerable:!1,writable:!0}),O.prototype.updateHighlights=function(t){return"hl_circle"in this.hlObjs&&this.hlObjs.hl_circle.setAttribute({dash:u.drawSolid?0:2}),void 0!==t&&(!("center"in this&&u.snapRound(t.usrCoords[1],u.snapSizeX)==this.center.X()&&u.snapRound(t.usrCoords[2],u.snapSizeY)==this.center.Y())&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=u.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:u.underConstructionColor,fixed:!0,snapToGrid:!0,snapSizeX:u.snapSizeX,snapSizeY:u.snapSizeY,withLabel:!1}),"center"in this&&(this.hlObjs.hl_circle=u.board.create("circle",[this.center,this.hlObjs.hl_point],{fixed:!0,strokeColor:u.underConstructionColor,highlight:!1,dash:u.drawSolid?0:2}))),u.setTextCoords(this.hlObjs.hl_point.X(),this.hlObjs.hl_point.Y()),u.board.update(),!0))},O.prototype.deactivate=function(){u.board.off("up"),"center"in this&&u.board.removeObject(this.center),delete this.center,u.board.containerObj.style.cursor="auto",f.prototype.deactivate.call(this)},O.prototype.activate=function(){f.prototype.activate.call(this),u.board.containerObj.style.cursor="none";var e=this;u.board.on("up",function(t){t=u.getMouseCoords(t);u.board.hasPoint(t.usrCoords[1],t.usrCoords[2])&&(u.board.off("up"),e.center=u.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:u.snapSizeX,snapSizeY:u.snapSizeY,withLabel:!1}),e.center.setAttribute({fixed:!0}),e.removeHighlights(),u.board.on("up",function(t){t=u.getMouseCoords(t);e.center.X()==u.snapRound(t.usrCoords[1],u.snapSizeX)&&e.center.Y()==u.snapRound(t.usrCoords[2],u.snapSizeY)||!u.board.hasPoint(t.usrCoords[1],t.usrCoords[2])||(u.board.off("up"),e.center.setAttribute({fixed:!1}),e.center.on("down",function(){u.board.containerObj.style.cursor="none"}),e.center.on("up",function(){u.board.containerObj.style.cursor="auto"}),u.selectedObj=new u.graphObjectTypes.circle(e.center,u.createPoint(t.usrCoords[1],t.usrCoords[2],e.center),u.drawSolid),u.graphedObjs.push(u.selectedObj),delete e.center,e.finish())}),u.board.update())})},C.prototype=Object.create(f.prototype),Object.defineProperty(C.prototype,"constructor",{value:C,enumerable:!1,writable:!0}),C.prototype.updateHighlights=function(t){return"hl_parabola"in this.hlObjs&&this.hlObjs.hl_parabola.setAttribute({dash:u.drawSolid?0:2}),void 0!==t&&((!("vertex"in this)||u.snapRound(t.usrCoords[1],u.snapSizeX)!=this.vertex.X()&&u.snapRound(t.usrCoords[2],u.snapSizeY)!=this.vertex.Y())&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=u.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:u.underConstructionColor,fixed:!0,snapToGrid:!0,snapSizeX:u.snapSizeX,snapSizeY:u.snapSizeY,highlight:!1,withLabel:!1}),"vertex"in this&&(this.hlObjs.hl_parabola=p(this.vertex,this.hlObjs.hl_point,this.vertical,u.drawSolid,u.underConstructionColor))),u.setTextCoords(this.hlObjs.hl_point.X(),this.hlObjs.hl_point.Y()),u.board.update(),!0))},C.prototype.deactivate=function(){u.board.off("up"),"vertex"in this&&u.board.removeObject(this.vertex),delete this.vertex,u.board.containerObj.style.cursor="auto",f.prototype.deactivate.call(this)},C.prototype.activate=function(){f.prototype.activate.call(this),u.board.containerObj.style.cursor="none";var e=this;u.board.on("up",function(t){t=u.getMouseCoords(t);u.board.hasPoint(t.usrCoords[1],t.usrCoords[2])&&(u.board.off("up"),e.vertex=u.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:u.snapSizeX,snapSizeY:u.snapSizeY,withLabel:!1}),e.vertex.setAttribute({fixed:!0}),e.removeHighlights(),u.board.on("up",function(t){t=u.getMouseCoords(t);e.vertex.X()!=u.snapRound(t.usrCoords[1],u.snapSizeX)&&e.vertex.Y()!=u.snapRound(t.usrCoords[2],u.snapSizeY)&&u.board.hasPoint(t.usrCoords[1],t.usrCoords[2])&&(u.board.off("up"),e.vertex.setAttribute({fixed:!1}),e.vertex.on("down",function(){u.board.containerObj.style.cursor="none"}),e.vertex.on("up",function(){u.board.containerObj.style.cursor="auto"}),u.selectedObj=new u.graphObjectTypes.parabola(e.vertex,u.createPoint(t.usrCoords[1],t.usrCoords[2],e.vertex,!0),e.vertical,u.drawSolid),u.graphedObjs.push(u.selectedObj),delete e.vertex,e.finish())}),u.board.update())})},v.prototype=Object.create(C.prototype),Object.defineProperty(v.prototype,"constructor",{value:v,enumerable:!1,writable:!0}),j.prototype=Object.create(C.prototype),Object.defineProperty(j.prototype,"constructor",{value:j,enumerable:!1,writable:!0}),m.prototype=Object.create(f.prototype),Object.defineProperty(m.prototype,"constructor",{value:m,enumerable:!1,writable:!0}),m.prototype.updateHighlights=function(t){return void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[u.snapRound(t.usrCoords[1],u.snapSizeX)-12/u.board.unitX,u.snapRound(t.usrCoords[2],u.snapSizeY)-12/u.board.unitY]):this.hlObjs.hl_point=u.board.create("image",[u.fillIcon,[u.snapRound(t.usrCoords[1],u.snapSizeX)-12/u.board.unitX,u.snapRound(t.usrCoords[2],u.snapSizeY)-12/u.board.unitY],[24/u.board.unitX,24/u.board.unitY]],{withLabel:!1,highlight:!1,layer:9}),u.setTextCoords(t.usrCoords[1],t.usrCoords[2]),u.board.update(),!0)},m.prototype.deactivate=function(){u.board.off("up"),u.board.containerObj.style.cursor="auto",f.prototype.deactivate.call(this)},m.prototype.activate=function(){f.prototype.activate.call(this),u.board.containerObj.style.cursor="none",u.board.on("up",function(t){u.board.off("up");t=u.getMouseCoords(t);u.board.hasPoint(t.usrCoords[1],t.usrCoords[2])&&(u.board.off("up"),u.selectedObj=new u.graphObjectTypes.fill(u.createPoint(t.usrCoords[1],t.usrCoords[2])),u.graphedObjs.push(u.selectedObj),u.updateText(),u.board.update(),u.selectTool.activate())})},u.toolTypes={LineTool:y,CircleTool:O,VerticalParabolaTool:v,HorizontalParabolaTool:j,FillTool:m,SolidDashTool:function(t){var e=document.createElement("div");e.classList.add("gt-solid-dash-box");var o=document.createElement("div");o.classList.add("gt-button-div","gt-solid-button-div"),o.dataset.bsToggle="tooltip",o.title="Make Selected Object Solid",u.solidButton=document.createElement("button"),u.solidButton.classList.add("btn","btn-light","gt-button","gt-tool-button","gt-solid-tool"),u.solidButton.type="button",u.solidButton.disabled=!0,u.solidButton.addEventListener("click",function(){S(u.solidButton,!0)}),o.append(u.solidButton),e.append(o),(o=document.createElement("div")).classList.add("gt-button-div","gt-dashed-button-div"),o.dataset.bsToggle="tooltip",o.title="Make Selected Object Dashed",u.dashedButton=document.createElement("button"),u.dashedButton.classList.add("btn","btn-light","gt-button","gt-tool-button","gt-dashed-tool"),u.dashedButton.type="button",u.dashedButton.addEventListener("click",function(){S(u.dashedButton,!1)}),o.append(u.dashedButton),e.append(o),t.append(e)}},(n=document.createElement("div")).id=e+"_graph",n.classList.add("jxgbox","graphtool-graph"),o.append(n),u.isStatic||((r=document.createElement("div")).classList.add("gt-toolbar-container"),u.selectTool=new g(r),"customTools"in t&&Object.keys(t.customTools).forEach(function(t){var e,o=this[t],i="parent"in o?o.parent?u.toolTypes[o.parent]:null:f;i?((e=function(t){i.call(this,t,o.iconName,o.tooltip),"initialize"in o&&o.initialize.call(this,u,t)}).prototype=Object.create(i.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,enumerable:!1,writable:!0})):e=function(t){o.initialize.call(this,u,t)},"activate"in o&&(e.prototype.activate=function(){i.prototype.activate.call(this),o.activate.call(this,u)}),"deactivate"in o&&(e.prototype.deactivate=function(){o.deactivate.call(this,u),i.prototype.deactivate.call(this)}),"updateHighlights"in o&&(e.prototype.updateHighlights=function(t){return o.updateHighlights.call(this,u,t)}),"removeHighlights"in o&&(e.prototype.removeHighlights=function(){o.removeHighlights.call(this,u),i.prototype.removeHighlights.call(this)}),"helperMethods"in o&&Object.keys(o.helperMethods).forEach(function(t){e[t]=function(){return o.helperMethods[t].apply(this,[u].concat(Array.prototype.slice.call(arguments)))}}),u.toolTypes[t]=e},t.customTools),s.forEach(function(t){t in u.toolTypes?new u.toolTypes[t](r):console.log("Unknown tool: "+t)}),(s=document.createElement("button")).type="button",s.classList.add("btn","btn-light","gt-button"),s.dataset.bsToggle="tooltip",s.title="Delete Selected Object",s.textContent="Delete",s.addEventListener("click",function(){this.blur(),u.selectedObj&&x("Delete Selected Object","deleteObjectDialog","Do you want to delete the selected object?",function(){for(var t=0;t<u.graphedObjs.length;++t)if(u.graphedObjs[t].id()===u.selectedObj.id()){u.graphedObjs[t].remove(),u.graphedObjs.splice(t,1);break}u.selectedObj=null,u.updateObjects(),u.updateText()})}),r.append(s),(s=document.createElement("button")).type="button",s.classList.add("btn","btn-light","gt-button"),s.dataset.bsToggle="tooltip",s.title="Clear All Objects From Graph",s.textContent="Clear",s.addEventListener("click",function(){this.blur(),0!=u.graphedObjs.length&&x("Clear Graph","clearGraphDialog","Do you want to remove all graphed objects?",function(){u.graphedObjs.forEach(function(t){t.remove()}),u.graphedObjs=[],u.selectedObj=null,u.selectTool.activate(),u.html_input.value=""})}),r.append(s),o.append(r),document.querySelectorAll('.gt-button-div[data-bs-toggle="tooltip"],.gt-button[data-bs-toggle="tooltip"]').forEach(function(t){new bootstrap.Tooltip(t,{placement:"bottom",trigger:"hover",delay:{show:500,hide:0}})})),function(){u.board=JXG.JSXGraph.initBoard(e+"_graph",i),u.board.suspendUpdate();var t=u.board.getBoundingBox();u.board.defaultAxes.x.point1.setPosition(JXG.COORDS_BY_USER,[t[0],0]),u.board.defaultAxes.x.point2.setPosition(JXG.COORDS_BY_USER,[t[2],0]),u.board.defaultAxes.y.point1.setPosition(JXG.COORDS_BY_USER,[0,t[3]]),u.board.defaultAxes.y.point2.setPosition(JXG.COORDS_BY_USER,[0,t[1]]),u.board.create("text",[function(){return u.board.getBoundingBox()[2]-3/u.board.unitX},function(){return 1.5/u.board.unitY},function(){return"\\(x\\)"}],{anchorX:"right",anchorY:"bottom",highlight:!1,color:"black",fixed:!0,useMathJax:!0}),u.board.create("text",[function(){return 4.5/u.board.unitX},function(){return u.board.getBoundingBox()[1]+2.5/u.board.unitY},function(){return"\\(y\\)"}],{anchorX:"left",anchorY:"top",highlight:!1,color:"black",fixed:!0,useMathJax:!0}),u.current_pos_text=u.board.create("text",[function(){return u.board.getBoundingBox()[2]-5/u.board.unitX},function(){return u.board.getBoundingBox()[3]+5/u.board.unitY},""],{anchorX:"right",anchorY:"bottom",fixed:!0}),u.board.highlightInfobox=function(t,e,o){return u.board.highlightCustomInfobox("",o)},u.isStatic||(u.board.on("move",function(t){t=u.getMouseCoords(t);u.activeTool.updateHighlights(t)||u.selectedObj&&u.selectedObj.updateTextCoords(t)||u.setTextCoords(t.usrCoords[1],t.usrCoords[2])}),document.addEventListener("keydown",function(t){"Escape"===t.key&&u.selectTool.activate()})),window.addEventListener("resize",function(){u.board.canvasWidth==n.offsetWidth-2&&u.board.canvasHeight==n.offsetHeight-2||(u.board.resizeContainer(n.offsetWidth-2,n.offsetHeight-2,!0),u.graphedObjs.forEach(function(t){t.onResize()}),u.staticObjs.forEach(function(t){t.onResize()}))}),u.drawSolid=!0,u.graphedObjs=[],u.staticObjs=[],u.selectedObj=null,u.board.unsuspendUpdate()}(),"html_input"in u&&X(u.html_input.value,!1),"staticObjects"in t&&"string"==typeof t.staticObjects&&t.staticObjects.length&&X(t.staticObjects,!0),u.isStatic||(u.updateText(),u.activeTool=u.selectTool,u.activeTool.activate(!0))):setTimeout(function(){graphTool(e,t)},100))}
